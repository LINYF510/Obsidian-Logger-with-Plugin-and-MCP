# MCP ä½¿ç”¨ç¤ºä¾‹ï¼šAuto-Reload ç®¡ç†

**åœºæ™¯**: ä½¿ç”¨ MCP å·¥å…·è¿œç¨‹ç®¡ç† Obsidian æ’ä»¶çš„è‡ªåŠ¨é‡è½½åŠŸèƒ½

---

## ç¤ºä¾‹ 1ï¼šæŸ¥çœ‹ Auto-Reload çŠ¶æ€

**åœºæ™¯**: æ£€æŸ¥å½“å‰çš„ç›‘æ§é…ç½®

```
@obsidian-logger get_auto_reload_status
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ¤– Auto-Reload çŠ¶æ€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š å½“å‰æ¨¡å¼ï¼šSMART
ğŸ“ ç›‘æ§æ’ä»¶æ•°ï¼š3
â±ï¸ æ£€æŸ¥é—´éš”ï¼š1000ms
ğŸ”” æ˜¾ç¤ºé€šçŸ¥ï¼šæ˜¯

ğŸ“‹ ç›‘æ§æ’ä»¶åˆ—è¡¨ï¼š
1. my-plugin
2. test-plugin
3. obsidian-logger

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**ä¿¡æ¯è§£è¯»**:
- **å½“å‰æ¨¡å¼**: SMART - æ™ºèƒ½è¯†åˆ«å¼€å‘ä¸­çš„æ’ä»¶
- **ç›‘æ§æ’ä»¶æ•°**: 3 - å½“å‰æœ‰ 3 ä¸ªæ’ä»¶è¢«ç›‘æ§
- **æ£€æŸ¥é—´éš”**: 1000ms - æ¯ç§’æ£€æŸ¥ä¸€æ¬¡æ–‡ä»¶å˜åŒ–
- **æ˜¾ç¤ºé€šçŸ¥**: æ˜¯ - é‡è½½æ—¶ä¼šæ˜¾ç¤ºé€šçŸ¥

---

## ç¤ºä¾‹ 2ï¼šåˆ‡æ¢ç›‘æ§æ¨¡å¼

### åœºæ™¯ Aï¼šå¼€å‘å•ä¸ªæ’ä»¶æ—¶

**åˆ‡æ¢åˆ°æ‰‹åŠ¨æ¨¡å¼** - åªç›‘æ§æŒ‡å®šæ’ä»¶

```
@obsidian-logger set_auto_reload_mode mode=manual
```

**è¾“å‡º**:
```
âœ… å·²åˆ‡æ¢åˆ° MANUAL æ¨¡å¼
ğŸ’¡ æ’ä»¶å°†åœ¨æ£€æµ‹åˆ°é…ç½®å˜åŒ–åè‡ªåŠ¨åº”ç”¨æ–°æ¨¡å¼
```

**ç­‰å¾… 2 ç§’åéªŒè¯**:
```
@obsidian-logger get_auto_reload_mode
```

**è¾“å‡º**:
```
ğŸ¤– å½“å‰ç›‘æ§æ¨¡å¼ï¼šMANUAL
ğŸ“ è¯´æ˜ï¼šæ‰‹åŠ¨æ¨¡å¼ - ä»…ç›‘æ§æ‰‹åŠ¨é€‰æ‹©çš„æ’ä»¶
```

### åœºæ™¯ Bï¼šå¼€å‘å¤šä¸ªæ’ä»¶æ—¶

**åˆ‡æ¢åˆ°è‡ªåŠ¨æ¨¡å¼** - ç›‘æ§æ‰€æœ‰å¼€å‘æ’ä»¶

```
@obsidian-logger set_auto_reload_mode mode=auto
```

### åœºæ™¯ Cï¼šä¸ç¡®å®šå“ªäº›æ’ä»¶éœ€è¦ç›‘æ§

**åˆ‡æ¢åˆ°æ™ºèƒ½æ¨¡å¼** - è‡ªåŠ¨è¯†åˆ«ï¼ˆæ¨èï¼‰

```
@obsidian-logger set_auto_reload_mode mode=smart
```

---

## ç¤ºä¾‹ 3ï¼šç®¡ç†ç›‘æ§åˆ—è¡¨

### æŸ¥çœ‹å½“å‰ç›‘æ§åˆ—è¡¨

```
@obsidian-logger manage_watched_plugins action=get
```

**è¾“å‡º**:
```
ğŸ“‹ ç›‘æ§æ’ä»¶åˆ—è¡¨ (2 ä¸ª)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. my-plugin
2. test-plugin
```

### æ·»åŠ æ’ä»¶åˆ°ç›‘æ§åˆ—è¡¨

```
@obsidian-logger manage_watched_plugins action=add plugins=["new-plugin", "another-plugin"]
```

**è¾“å‡º**:
```
âœ… å·²æ·»åŠ  2/2 ä¸ªæ’ä»¶åˆ°ç›‘æ§åˆ—è¡¨
```

**éªŒè¯**:
```
@obsidian-logger manage_watched_plugins action=get
```

**è¾“å‡º**:
```
ğŸ“‹ ç›‘æ§æ’ä»¶åˆ—è¡¨ (4 ä¸ª)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. my-plugin
2. test-plugin
3. new-plugin
4. another-plugin
```

### ç§»é™¤æ’ä»¶

```
@obsidian-logger manage_watched_plugins action=remove plugins=["test-plugin"]
```

**è¾“å‡º**:
```
âœ… å·²ä»ç›‘æ§åˆ—è¡¨ç§»é™¤ 1/1 ä¸ªæ’ä»¶
```

### å®Œå…¨æ›¿æ¢ç›‘æ§åˆ—è¡¨

```
@obsidian-logger manage_watched_plugins action=set plugins=["my-plugin"]
```

**è¾“å‡º**:
```
âœ… å·²è®¾ç½®ç›‘æ§åˆ—è¡¨ (1 ä¸ªæ’ä»¶)
```

---

## ç¤ºä¾‹ 4ï¼šæ‰‹åŠ¨è§¦å‘é‡è½½

**åœºæ™¯**: éœ€è¦ç«‹å³é‡è½½æŸä¸ªæ’ä»¶ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ–‡ä»¶å˜åŒ–

```
@obsidian-logger trigger_plugin_reload plugin_id=my-plugin
```

**è¾“å‡º**:
```
âœ… å·²è§¦å‘é‡è½½è¯·æ±‚: my-plugin
ğŸ’¡ æ’ä»¶å°†åœ¨æ£€æµ‹åˆ°é…ç½®å˜åŒ–åæ‰§è¡Œé‡è½½ï¼ˆçº¦ 2 ç§’å†…ï¼‰
```

**è§‚å¯Ÿ Obsidian**:
- çº¦ 2 ç§’åï¼Œæ’ä»¶ä¼šè¢«ç¦ç”¨ç„¶åé‡æ–°å¯ç”¨
- å¦‚æœå¯ç”¨äº†é€šçŸ¥ï¼Œä¼šçœ‹åˆ° "âœ… æ’ä»¶å·²é‡è½½: my-plugin"
- æ—¥å¿—ä¸­ä¼šè®°å½•é‡è½½ä¿¡æ¯

---

## ç¤ºä¾‹ 5ï¼šæŸ¥çœ‹é‡è½½ç»Ÿè®¡

### æŸ¥çœ‹æ‰€æœ‰æ’ä»¶çš„é‡è½½ç»Ÿè®¡

```
@obsidian-logger get_reload_statistics time_range_hours=24
```

**è¾“å‡º**:
```
ğŸ“Š é‡è½½ç»Ÿè®¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â±ï¸ ç»Ÿè®¡èŒƒå›´ï¼šæœ€è¿‘ 24 å°æ—¶
ğŸ”Œ æ’ä»¶ï¼šæ‰€æœ‰
ğŸ”„ é‡è½½æ¬¡æ•°ï¼š45

ğŸ“‹ æœ€è¿‘ 5 æ¬¡é‡è½½ï¼š
1. [15:30:45.123] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 120ms)
2. [15:28:12.456] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 115ms)
3. [15:20:34.789] âœ… æ’ä»¶å·²é‡è½½: test-plugin (ç”¨æ—¶: 130ms)
4. [14:45:23.012] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 125ms)
5. [14:30:15.345] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 110ms)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### æŸ¥çœ‹ç‰¹å®šæ’ä»¶çš„ç»Ÿè®¡

```
@obsidian-logger get_reload_statistics plugin_id=my-plugin time_range_hours=12
```

**è¾“å‡º**:
```
ğŸ“Š é‡è½½ç»Ÿè®¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â±ï¸ ç»Ÿè®¡èŒƒå›´ï¼šæœ€è¿‘ 12 å°æ—¶
ğŸ”Œ æ’ä»¶ï¼šmy-plugin
ğŸ”„ é‡è½½æ¬¡æ•°ï¼š32

ğŸ“‹ æœ€è¿‘ 5 æ¬¡é‡è½½ï¼š
1. [15:30:45.123] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 120ms)
2. [15:28:12.456] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 115ms)
3. [14:45:23.012] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 125ms)
4. [14:30:15.345] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 110ms)
5. [13:55:42.678] âœ… æ’ä»¶å·²é‡è½½: my-plugin (ç”¨æ—¶: 128ms)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**åˆ†æ**:
- å¹³å‡é‡è½½æ—¶é—´ï¼š~120ms
- é‡è½½é¢‘ç‡ï¼š32æ¬¡/12å°æ—¶ â‰ˆ 2.7æ¬¡/å°æ—¶
- è¯´æ˜å¼€å‘æ´»è·ƒï¼ŒAuto-Reload å·¥ä½œæ­£å¸¸

---

## å®Œæ•´å·¥ä½œæµç¤ºä¾‹

### å·¥ä½œæµ 1ï¼šå¼€å§‹å¼€å‘æ–°æ’ä»¶

```
# æ­¥éª¤ 1ï¼šåˆ‡æ¢åˆ°æ‰‹åŠ¨æ¨¡å¼
@obsidian-logger set_auto_reload_mode mode=manual

# æ­¥éª¤ 2ï¼šæ·»åŠ æ’ä»¶åˆ°ç›‘æ§åˆ—è¡¨
@obsidian-logger manage_watched_plugins action=add plugins=["my-new-plugin"]

# æ­¥éª¤ 3ï¼šéªŒè¯é…ç½®
@obsidian-logger get_auto_reload_status

# æ­¥éª¤ 4ï¼šå¼€å§‹å¼€å‘
# ä¿®æ”¹æ’ä»¶ä»£ç  â†’ ä¿å­˜ â†’ è‡ªåŠ¨é‡è½½

# æ­¥éª¤ 5ï¼šå®šæœŸæŸ¥çœ‹é‡è½½ç»Ÿè®¡
@obsidian-logger get_reload_statistics plugin_id=my-new-plugin
```

### å·¥ä½œæµ 2ï¼šè°ƒè¯•æ’ä»¶é‡è½½é—®é¢˜

**é—®é¢˜**: æ’ä»¶æ²¡æœ‰è‡ªåŠ¨é‡è½½

```
# æ­¥éª¤ 1ï¼šæ£€æŸ¥ Auto-Reload çŠ¶æ€
@obsidian-logger get_auto_reload_status

# æ£€æŸ¥ï¼š
# - æ¨¡å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ
# - æ’ä»¶æ˜¯å¦åœ¨ç›‘æ§åˆ—è¡¨ä¸­ï¼Ÿ
# - æ£€æŸ¥é—´éš”æ˜¯å¦åˆç†ï¼Ÿ

# æ­¥éª¤ 2ï¼šæ‰‹åŠ¨è§¦å‘é‡è½½æµ‹è¯•
@obsidian-logger trigger_plugin_reload plugin_id=my-plugin

# è§‚å¯Ÿæ˜¯å¦èƒ½æˆåŠŸé‡è½½

# æ­¥éª¤ 3ï¼šæŸ¥çœ‹æ—¥å¿—
@obsidian-logger read_logs lines=50 level=all

# æœç´¢ "[Auto-Reload]" ç›¸å…³æ—¥å¿—

# æ­¥éª¤ 4ï¼šæ ¹æ®é—®é¢˜è°ƒæ•´é…ç½®
# å¦‚æœæ’ä»¶ä¸åœ¨åˆ—è¡¨ä¸­ï¼š
@obsidian-logger manage_watched_plugins action=add plugins=["my-plugin"]

# å¦‚æœæ¨¡å¼ä¸å¯¹ï¼š
@obsidian-logger set_auto_reload_mode mode=manual
```

### å·¥ä½œæµ 3ï¼šæ€§èƒ½ä¼˜åŒ–

**åœºæ™¯**: é‡è½½å¤ªé¢‘ç¹ï¼Œå½±å“å¼€å‘ä½“éªŒ

```
# æ­¥éª¤ 1ï¼šæŸ¥çœ‹é‡è½½ç»Ÿè®¡
@obsidian-logger get_reload_statistics time_range_hours=1

# åˆ†æé‡è½½é¢‘ç‡

# æ­¥éª¤ 2ï¼šå¦‚æœå¤ªé¢‘ç¹ï¼ˆ> 10æ¬¡/å°æ—¶ï¼‰
# è€ƒè™‘åˆ‡æ¢åˆ°æ‰‹åŠ¨æ¨¡å¼ï¼Œåªç›‘æ§éœ€è¦çš„æ’ä»¶
@obsidian-logger set_auto_reload_mode mode=manual
@obsidian-logger manage_watched_plugins action=set plugins=["my-main-plugin"]

# æ­¥éª¤ 3ï¼šéªŒè¯æ•ˆæœ
# ç­‰å¾… 1 å°æ—¶åå†æ¬¡æ£€æŸ¥
@obsidian-logger get_reload_statistics time_range_hours=1
```

---

## æ¨¡å¼é€‰æ‹©å»ºè®®

### Auto æ¨¡å¼ ğŸ¤–

**é€‚ç”¨åœºæ™¯**:
- åŒæ—¶å¼€å‘å¤šä¸ªæ’ä»¶
- ä¸ç¡®å®šå“ªäº›æ’ä»¶éœ€è¦ç›‘æ§
- å¸Œæœ›è‡ªåŠ¨å‘ç°æ–°çš„å¼€å‘æ’ä»¶

**å‘½ä»¤**:
```
@obsidian-logger set_auto_reload_mode mode=auto
```

**ç‰¹ç‚¹**:
- âœ… å…¨è‡ªåŠ¨ï¼Œæ— éœ€é…ç½®
- âœ… è‡ªåŠ¨å‘ç°å¼€å‘æ’ä»¶
- âš ï¸ å¯èƒ½ç›‘æ§ä¸éœ€è¦çš„æ’ä»¶

### Smart æ¨¡å¼ ğŸ§ 

**é€‚ç”¨åœºæ™¯**:
- æ—¥å¸¸å¼€å‘ï¼ˆæ¨èï¼‰
- å¹³è¡¡è‡ªåŠ¨åŒ–å’Œç²¾ç¡®æ€§
- é¿å…ç›‘æ§å‘å¸ƒç‰ˆæ’ä»¶

**å‘½ä»¤**:
```
@obsidian-logger set_auto_reload_mode mode=smart
```

**ç‰¹ç‚¹**:
- âœ… æ™ºèƒ½è¯†åˆ«å¼€å‘æ’ä»¶
- âœ… åŸºäºå¤šç§ç‰¹å¾åˆ¤æ–­
- âœ… å‡†ç¡®ç‡ ~90%

### Manual æ¨¡å¼ âœ‹

**é€‚ç”¨åœºæ™¯**:
- åªå¼€å‘ä¸€ä¸ªæ’ä»¶
- éœ€è¦ç²¾ç¡®æ§åˆ¶
- æ€§èƒ½æ•æ„Ÿç¯å¢ƒ

**å‘½ä»¤**:
```
@obsidian-logger set_auto_reload_mode mode=manual
@obsidian-logger manage_watched_plugins action=set plugins=["my-plugin"]
```

**ç‰¹ç‚¹**:
- âœ… å®Œå…¨å¯æ§
- âœ… æ€§èƒ½æœ€ä¼˜
- âš ï¸ éœ€è¦æ‰‹åŠ¨ç®¡ç†åˆ—è¡¨

---

## é«˜çº§æŠ€å·§

### 1. æ‰¹é‡é‡è½½å¤šä¸ªæ’ä»¶

```
# è·å–ç›‘æ§åˆ—è¡¨
@obsidian-logger manage_watched_plugins action=get

# ä¾æ¬¡è§¦å‘é‡è½½
@obsidian-logger trigger_plugin_reload plugin_id=plugin1
@obsidian-logger trigger_plugin_reload plugin_id=plugin2
@obsidian-logger trigger_plugin_reload plugin_id=plugin3
```

### 2. å®šæœŸç›‘æ§é‡è½½çŠ¶æ€

åˆ›å»ºæ¯æ—¥æ£€æŸ¥è„šæœ¬ï¼š
```bash
# æ¯å¤© 18:00 æ‰§è¡Œ
@obsidian-logger get_reload_statistics time_range_hours=24

# è®°å½•åˆ°æ—¥å¿—
- æ—¥æœŸï¼š2025-11-02
- é‡è½½æ¬¡æ•°ï¼š45
- å¹³å‡è€—æ—¶ï¼š~120ms
- ä¸»è¦æ’ä»¶ï¼šmy-plugin (32æ¬¡)
```

### 3. ä¸ Git å·¥ä½œæµé›†æˆ

```bash
# åˆ‡æ¢åˆ†æ”¯å‰
git checkout feature/new-feature
@obsidian-logger manage_watched_plugins action=add plugins=["my-plugin"]
@obsidian-logger trigger_plugin_reload plugin_id=my-plugin

# å¼€å‘å®Œæˆå
git checkout main
@obsidian-logger manage_watched_plugins action=remove plugins=["my-plugin"]
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæ’ä»¶æ²¡æœ‰è‡ªåŠ¨é‡è½½

**æ£€æŸ¥æ¸…å•**:
- [ ] æ’ä»¶æ˜¯å¦åœ¨ç›‘æ§åˆ—è¡¨ä¸­ï¼Ÿ
  ```
  @obsidian-logger get_auto_reload_status
  ```
- [ ] æ¨¡å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] æ–‡ä»¶æ˜¯å¦çœŸçš„æ”¹å˜äº†ï¼Ÿï¼ˆæ£€æŸ¥ä¿®æ”¹æ—¶é—´ï¼‰
- [ ] æ’ä»¶æ˜¯å¦å·²å¯ç”¨ï¼Ÿ

### é—®é¢˜ 2ï¼šé‡è½½å¤ªé¢‘ç¹

**è§£å†³æ–¹æ¡ˆ**:
- åˆ‡æ¢åˆ°æ‰‹åŠ¨æ¨¡å¼
- åªç›‘æ§éœ€è¦çš„æ’ä»¶
- æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è¿›ç¨‹åœ¨ä¿®æ”¹æ–‡ä»¶

### é—®é¢˜ 3ï¼šMCP å‘½ä»¤ä¸ç”Ÿæ•ˆ

**æ£€æŸ¥**:
- [ ] ç­‰å¾… ~2 ç§’ï¼ˆé…ç½®æ£€æµ‹å»¶è¿Ÿï¼‰
- [ ] æ£€æŸ¥ Obsidian ä¸­çš„è®¾ç½®æ˜¯å¦å˜åŒ–
- [ ] æŸ¥çœ‹æ—¥å¿—ç¡®è®¤é…ç½®å†™å…¥æˆåŠŸ
  ```
  @obsidian-logger read_logs lines=20 level=all
  ```

---

## æœ€ä½³å®è·µæ€»ç»“

1. **ä½¿ç”¨ Smart æ¨¡å¼ä½œä¸ºé»˜è®¤** - å¹³è¡¡è‡ªåŠ¨åŒ–å’Œç²¾ç¡®æ€§
2. **å®šæœŸæŸ¥çœ‹é‡è½½ç»Ÿè®¡** - äº†è§£å¼€å‘æ´»è·ƒåº¦
3. **é‡åˆ°é—®é¢˜å…ˆæŸ¥çœ‹çŠ¶æ€** - `get_auto_reload_status`
4. **æ‰‹åŠ¨è§¦å‘ç”¨äºå¿«é€ŸéªŒè¯** - ä¸ç­‰å¾…æ–‡ä»¶å˜åŒ–
5. **ç»“åˆæ—¥å¿—å·¥å…·ä½¿ç”¨** - å…¨é¢äº†è§£æ’ä»¶è¿è¡Œæƒ…å†µ

---

**æç¤º**: Auto-Reload åŠŸèƒ½ä¸æ—¥å¿—åˆ†æå·¥å…·é…åˆä½¿ç”¨æ•ˆæœæœ€ä½³ï¼

